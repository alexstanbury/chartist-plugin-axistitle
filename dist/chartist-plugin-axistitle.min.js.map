{"version":3,"file":"chartist-plugin-axistitle.min.js","sources":["chartist-plugin-axistitle.js"],"names":["root","factory","define","amd","exports","module","this","window","document","Chartist","getTitle","title","Function","axisDefaults","axisTitle","axisClass","offset","x","y","textAnchor","flipText","defaultOptions","axisX","extend","axisY","plugins","ctAxisTitle","options","chart","on","data","Error","xPos","yPos","axisLength","chartPadding","left","top","position","Svg","addClass","text","attr","text-anchor","svg","append","transform","flipTitle"],"mappings":";;;;;;CAAC,SAAUA,EAAMC,GACO,kBAAXC,SAAyBA,OAAOC,IAEzCD,UAAW,WACT,MAAQF,GAAK,gCAAkCC,MAErB,gBAAZG,SAIhBC,OAAOD,QAAUH,IAEjBD,EAAK,gCAAkCC,KAEzCK,KAAM,WA6HR,MAtHC,UAAUC,EAAQC,EAAUC,GACzB,YAkBA,SAASC,GAASC,GACd,MAAIA,aAAiBC,UACVD,IAGJA,EArBX,GAAIE,IACAC,UAAW,GACXC,UAAW,gBACXC,QACIC,EAAG,EACHC,EAAG,GAEPC,WAAY,SACZC,UAAU,GAGVC,GACAC,MAAQb,EAASc,UAAWV,GAC5BW,MAAQf,EAASc,UAAWV,GAYhCQ,GAAeC,MAAMN,OAAOE,EAAI,GAIhCG,EAAeG,MAAMR,OAAOE,EAAI,GAEhCT,EAASgB,QAAUhB,EAASgB,YAC5BhB,EAASgB,QAAQC,YAAc,SAAUC,GAIrC,MAFAA,GAAUlB,EAASc,UAAWF,EAAgBM,GAEvC,SAAqBC,GAExBA,EAAMC,GAAG,UAAW,SAAUC,GAE1B,IAAKH,EAAQL,MAAMR,YAAca,EAAQH,MAAMV,UAC3C,KAAM,IAAIiB,OAAM,gEACb,KAAKD,EAAKR,QAAUQ,EAAKN,MAC5B,KAAM,IAAIO,OAAM,4EAGpB,IAAIC,GACAC,EACAtB,CA+BJ,IA5BIgB,EAAQL,MAAMR,WAAagB,EAAKR,QAEhCU,EAAQF,EAAKR,MAAMY,WAAa,EAAKJ,EAAKH,QAAQH,MAAMR,OAASc,EAAKH,QAAQQ,aAAaC,KAE3FH,EAAOH,EAAKH,QAAQQ,aAAaE,IAEG,QAAhCP,EAAKH,QAAQH,MAAMc,WACnBN,GAAQF,EAAKH,QAAQH,MAAMR,QAGK,QAAhCc,EAAKH,QAAQL,MAAMgB,WACnBL,GAAQH,EAAKN,MAAMU,YAGvBvB,EAAQ,GAAIF,GAAS8B,IAAI,QACzB5B,EAAM6B,SAASb,EAAQL,MAAMP,WAC7BJ,EAAM8B,KAAK/B,EAASiB,EAAQL,MAAMR,YAClCH,EAAM+B,MACFzB,EAAGe,EAAOL,EAAQL,MAAMN,OAAOC,EAC/BC,EAAGe,EAAON,EAAQL,MAAMN,OAAOE,EAC/ByB,cAAehB,EAAQL,MAAMH,aAGjCW,EAAKc,IAAIC,OAAOlC,GAAO,IAKvBgB,EAAQH,MAAMV,WAAagB,EAAKN,MAAO,CACvCQ,EAAO,EAGPC,EAAQH,EAAKN,MAAMU,WAAa,EAAKJ,EAAKH,QAAQQ,aAAaE,IAE3B,UAAhCP,EAAKH,QAAQL,MAAMgB,WACnBL,GAAQH,EAAKH,QAAQL,MAAMN,QAGK,QAAhCc,EAAKH,QAAQH,MAAMc,WACnBN,EAAOF,EAAKR,MAAMY,WAGtB,IAAIY,GAAY,WAAanB,EAAQH,MAAMuB,UAAY,IAAM,IAAM,KAAOf,EAAO,KAAOC,EAAO,GAE/FtB,GAAQ,GAAIF,GAAS8B,IAAI,QACzB5B,EAAM6B,SAASb,EAAQH,MAAMT,WAC7BJ,EAAM8B,KAAK/B,EAASiB,EAAQH,MAAMV,YAClCH,EAAM+B,MACFzB,EAAGe,EAAOL,EAAQH,MAAMR,OAAOC,EAC/BC,EAAGe,EAAON,EAAQH,MAAMR,OAAOE,EAC/B4B,UAAWA,EACXH,cAAehB,EAAQH,MAAML,aAGjCW,EAAKc,IAAIC,OAAOlC,GAAO,SAQzCJ,OAAQC,SAAUC,UAEbA,SAASgB,QAAQC","sourcesContent":["(function (root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module unless amdModuleId is set\n    define([], function () {\n      return (root['Chartist.plugins.ctAxisTitle'] = factory());\n    });\n  } else if (typeof exports === 'object') {\n    // Node. Does not work with strict CommonJS, but\n    // only CommonJS-like environments that support module.exports,\n    // like Node.\n    module.exports = factory();\n  } else {\n    root['Chartist.plugins.ctAxisTitle'] = factory();\n  }\n}(this, function () {\n\n/**\n * Chartist.js plugin to display a title for 1 or 2 axises.\n *\n */\n/* global Chartist */\n(function (window, document, Chartist) {\n    'use strict';\n\n    var axisDefaults = {\n        axisTitle: '',\n        axisClass: 'ct-axis-title',\n        offset: {\n            x: 0,\n            y: 0\n        },\n        textAnchor: 'middle',\n        flipText: false\n    };\n\n    var defaultOptions = {\n        axisX:  Chartist.extend({}, axisDefaults),\n        axisY:  Chartist.extend({}, axisDefaults)\n    };\n\n    function getTitle(title) {\n        if (title instanceof Function) {\n            return title();\n        }\n\n        return title;\n    }\n\n    //as axisX will usually be at the bottom, set it to be below the labels\n    defaultOptions.axisX.offset.y = 40;\n\n    //this will stop the title text being slightly cut off at the bottom.\n    //TODO - implement a cleaner fix.\n    defaultOptions.axisY.offset.y = -1;\n\n    Chartist.plugins = Chartist.plugins || {};\n    Chartist.plugins.ctAxisTitle = function (options) {\n\n        options = Chartist.extend({}, defaultOptions, options);\n\n        return function ctAxisTitle(chart) {\n\n            chart.on('created', function (data) {\n\n                if (!options.axisX.axisTitle && !options.axisY.axisTitle) {\n                    throw new Error('ctAxisTitle plugin - You must provide at least one axis title');\n                } else if (!data.axisX && !data.axisY) {\n                    throw new Error('ctAxisTitle plugin can only be used on charts that have at least one axis');\n                }\n\n                var xPos;\n                var yPos;\n                var title;\n\n                //position axis X title\n                if (options.axisX.axisTitle && data.axisX) {\n\n                    xPos = (data.axisX.axisLength / 2) + data.options.axisY.offset + data.options.chartPadding.left;\n\n                    yPos = data.options.chartPadding.top;\n\n                    if (data.options.axisY.position === 'end') {\n                        xPos -= data.options.axisY.offset;\n                    }\n\n                    if (data.options.axisX.position === 'end') {\n                        yPos += data.axisY.axisLength;\n                    }\n\n                    title = new Chartist.Svg(\"text\");\n                    title.addClass(options.axisX.axisClass);\n                    title.text(getTitle(options.axisX.axisTitle));\n                    title.attr({\n                        x: xPos + options.axisX.offset.x,\n                        y: yPos + options.axisX.offset.y,\n                        \"text-anchor\": options.axisX.textAnchor\n                    });\n\n                    data.svg.append(title, true);\n\n                }\n\n                //position axis Y title\n                if (options.axisY.axisTitle && data.axisY) {\n                    xPos = 0;\n\n\n                    yPos = (data.axisY.axisLength / 2) + data.options.chartPadding.top;\n\n                    if (data.options.axisX.position === 'start') {\n                        yPos += data.options.axisX.offset;\n                    }\n\n                    if (data.options.axisY.position === 'end') {\n                        xPos = data.axisX.axisLength;\n                    }\n\n                    var transform = 'rotate(' + (options.axisY.flipTitle ? -90 : 90) + ', ' + xPos + ', ' + yPos + ')';\n\n                    title = new Chartist.Svg(\"text\");\n                    title.addClass(options.axisY.axisClass);\n                    title.text(getTitle(options.axisY.axisTitle));\n                    title.attr({\n                        x: xPos + options.axisY.offset.x,\n                        y: yPos + options.axisY.offset.y,\n                        transform: transform,\n                        \"text-anchor\": options.axisY.textAnchor\n                    });\n\n                    data.svg.append(title, true);\n\n                }\n\n            });\n        };\n    };\n\n}(window, document, Chartist));\n\nreturn Chartist.plugins.ctAxisTitle;\n\n}));\n"]}